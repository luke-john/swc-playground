var e=Object.defineProperty,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,n=(t,r,a)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a;import{r as l,S as s,d as c,a as o}from"./vendor.a6ead9de.js";let m;const i={},u={loaded:new Promise((async e=>{const t=await function(e,t){if(!t)return e();if(void 0===m){const e=document.createElement("link").relList;m=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in i)return;i[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":m,t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((e,t)=>{a.addEventListener("load",e),a.addEventListener("error",t)})):void 0}))).then((()=>e()))}((()=>import("./wasm.12b360cc.js")),void 0);u.swc=t,await u.swc.default(),e(!0)})),swc:void 0};function d(e){var t;return l.createElement("div",{role:"region","aria-live":"polite",className:"_1483qed0"},l.createElement("h2",{className:"_1jfk82o1",tabIndex:-1},"Result"),e.error&&l.createElement(l.Fragment,null,l.createElement("p",null,e.error)),void 0!==e.result&&l.createElement(l.Fragment,null,l.createElement("h3",{className:"_1483qed1"},"Code"),l.createElement(s,{language:"javascript",style:c},null==(t=e.result)?void 0:t.code)),e.lastOptions&&l.createElement(l.Fragment,null,l.createElement("h3",{className:"_1483qed1"},"Transformation settings"),l.createElement(s,{language:"json",style:c},e.lastOptions)))}function p({runTransform:e,setTransformationCode:t,watchModeEnabled:r,setWatchModeEnabled:a,optionsState:n,optionsDispatch:s,code:c,setCode:o}){return l.createElement("form",{onSubmit:t=>{t.preventDefault(),e()},className:"lhcf4o0"},l.createElement("h2",{className:"_1jfk82o1"},"Input"),l.createElement("div",{className:"lhcf4o4"},l.createElement("label",{htmlFor:"repl-input",className:"lhcf4o1"},"Code"),l.createElement("textarea",{id:"repl-code",className:"lhcf4o3",value:c,rows:8,onChange:e=>{o(e.currentTarget.value),r&&t(e.currentTarget.value)}})),l.createElement("fieldset",null,l.createElement("legend",{className:"lhcf4o1"},"Options"),l.createElement("label",{htmlFor:"jsx-parser-syntax",className:"lhcf4o1"},"Choose a syntax:"," ",l.createElement("select",{id:"jsx-parser-syntax",className:"lhcf4o2",value:n.jscParserSyntax,onChange:e=>{s({option:"jscParserSyntax",value:e.currentTarget.value})}},l.createElement("option",{value:"ecmascript"},"ecmascript"),l.createElement("option",{value:"typescript"},"typescript")))),l.createElement("div",{className:"lhcf4o5"},l.createElement("label",{className:"lhcf4o1"},l.createElement("input",{type:"checkbox",checked:r,onChange:e=>{e.currentTarget.checked&&t(e.currentTarget.value),a(e.currentTarget.checked)}}),"Run in watch mode"),l.createElement("button",{className:"lhcf4o6"},"Transform")))}function h(){const[e,s]=l.useState('var test: string = "cat";'),[c,o]=l.useReducer(((e,l)=>(e[l.option]=l.value,((e,l)=>{for(var s in l||(l={}))r.call(l,s)&&n(e,s,l[s]);if(t)for(var s of t(l))a.call(l,s)&&n(e,s,l[s]);return e})({},e))),{jscParserSyntax:"typescript"}),[m,i]=l.useState(!1),[h,E]=l.useState(),[v,y]=l.useState(),[g,j]=l.useState();return l.useEffect((()=>{if(void 0!==h){const t=new AbortController;return f.jsc.parser.syntax=c.jscParserSyntax,async function(...e){return!0!==u.loaded&&await Promise.resolve(u.loaded),u.swc.transformSync(...e)}(e,f).then((e=>({result:e}))).catch((e=>"string"==typeof e?{error:e}:{error:"failed to run compilation "})).then((e=>{t.signal.aborted||(y(e),j(JSON.stringify(f,null,4)))})),()=>{t.abort()}}}),[h,c.jscParserSyntax]),l.createElement("div",{className:"_1jfk82o0"},l.createElement(p,{runTransform:async function(){E(e)},setTransformationCode:E,watchModeEnabled:m,setWatchModeEnabled:i,code:e,setCode:s,optionsState:c,optionsDispatch:o}),l.createElement(d,{error:null==v?void 0:v.error,result:null==v?void 0:v.result,lastOptions:g}))}const f={filename:"input.js",sourceMaps:!0,isModule:!1,jsc:{parser:{syntax:"typescript"},transform:{react:{runtime:"classic"}}}};var E="_5orj0h3";function v(){return l.createElement("footer",{className:"_5orj0h0"},l.createElement("h2",{className:"_5orj0h1"},"Links"),l.createElement("ul",{className:"_5orj0h2"},l.createElement("li",null,l.createElement("a",{href:"https://swc.rs/",className:E},"SWC project")),l.createElement("li",null,l.createElement("a",{href:"https://github.com/swc-project/swc",className:E},"SWC project GitHub repo")),l.createElement("li",null,l.createElement("a",{href:"https://github.com/luke-john/swc-playground",className:E},"Playground GitHub repo"))))}function y(){return l.createElement("div",{className:"h834710"},l.createElement("header",{className:"h834711"},l.createElement("h1",{className:"h834712"},"SWC playground")),l.createElement(h,null),l.createElement(v,null))}o.render(l.createElement(l.StrictMode,null,l.createElement(y,null)),document.getElementById("root"));
